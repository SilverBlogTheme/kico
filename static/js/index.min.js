function nav_btn(){var e=document.getElementsByClassName("toggle-btn")[0],t=document.getElementsByClassName("head-menu")[0];e.addEventListener("click",function(){t.classList.toggle("active"),navtrans()})}function navtrans(){var e=document.getElementsByTagName("header")[0];(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)>0||-1!=document.getElementById("head-menu").className.indexOf("active")?e.classList.add("active"):e.classList.remove("active")}var aContainer=document.getElementById("archive-container"),request=new XMLHttpRequest;request.open("POST","/control/get_post_list",!0),request.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),request.onload=function(){if(request.status>=200&&request.status<400){var e=JSON.parse(request.responseText),t=0,n="";for(var a in e){var o=new Date(e[a].time).getFullYear();o!=t&&(0!=t&&(n+="</ul>"),n+="<h2>"+(t=o)+" 年</h2><ul>");var r=new Date(e[a].time);n+="<li>"+(r.getMonth()+1)+" 月 "+r.getDate()+' 日：<a href="/'+e[a].name+'">'+e[a].title+"</a></li>"}aContainer.innerHTML=n}else aContainer.innerHTML="载入归档页面失败（"+request.status+"），请尝试刷新页面。"},request.onerror=function(){aContainer.innerHTML="载入归档页面失败，请尝试刷新页面。"},aContainer&&(aContainer.innerHTML="归档页面载入中 ...",request.send()),timeSince=function(e){var t=((new Date).getTime()-e)/1e3;if(t>=0&&t<60)return Math.floor(t)+" 秒前";if(t>=60&&t<3600)return Math.floor(t/60)+" 分钟前";if(t>=3600&&t<86400)return Math.floor(t/3600)+" 小时前";if(t>=86400&&t<604800)return Math.floor(t/86400)+" 天前";if(t>=604800&&t<2592e3)return Math.floor(t/604800)+" 周前";if(t>=2592e3&&t<31536e3)return Math.floor(t/2592e3)+" 个月前";var n=new Date(e);return n.getFullYear()+" 年 "+(n.getMonth()+1)+" 月 "+n.getDate()+" 日"},document.addEventListener("DOMContentLoaded",function(){var e=document.getElementsByTagName("time");for(var t in e)if(""!=e[t].innerHTML){var n=new Date(e[t].innerHTML);e[t].title=n.getFullYear()+" 年 "+(n.getMonth()+1)+" 月 "+n.getDate()+" 日",e[t].innerHTML=timeSince(n.getTime())}hljs.initHighlightingOnLoad()},!1),window.console&&window.console.log&&console.log("\n %c Kico Style %c https://www.binkic.com \n\n","color: #fff; background: #3498db; padding: 5px 0;","background: #efefef; padding: 5px 0;"),nav_btn(),window.onscroll=function(){navtrans()};