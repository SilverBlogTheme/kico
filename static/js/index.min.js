function nav_btn(){var e=document.getElementsByClassName("toggle-btn")[0],t=document.getElementsByClassName("head-menu")[0];e.addEventListener("click",function(){t.classList.toggle("active"),navtrans()})}function navtrans(){var e=document.getElementsByTagName("header")[0];(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)>0||-1!=document.getElementById("head-menu").className.indexOf("active")?e.classList.add("active"):e.classList.remove("active")}var aContainer=document.getElementById("archive-container"),request=new XMLHttpRequest;request.open("POST","/control/get_post_list",!0),request.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),request.onload=function(){if(request.status>=200&&request.status<400){var e=JSON.parse(request.responseText),t=0,n="";for(var a in e){var i=new Date(e[a].time).getFullYear();i!=t&&(0!=t&&(n+="</ul>"),n+="<h2>"+(t=i)+" 年</h2><ul>");var o=new Date(e[a].time);n+="<li>"+(o.getMonth()+1)+" 月 "+o.getDate()+' 日：<a href="/'+e[a].name+'">'+e[a].title+"</a></li>"}aContainer.innerHTML=n}else aContainer.innerHTML="载入归档页面失败（"+request.status+"），请尝试刷新页面。"},request.onerror=function(){aContainer.innerHTML="载入归档页面失败，请尝试刷新页面。"},aContainer&&(aContainer.innerHTML="归档页面载入中 ...",request.send()),window.console&&window.console.log&&console.log("\n %c Kico Style %c https://www.binkic.com \n\n","color: #fff; background: #3498db; padding: 5px 0;","background: #efefef; padding: 5px 0;");var gapType=[{max:60,suffix:" 秒前"},{max:3600,suffix:" 分钟前"},{max:86400,suffix:" 小时前"},{max:604800,suffix:" 天前"},{max:2592e3,suffix:" 周前"},{max:31536e3,suffix:" 个月前"}];pad=function(e){return e<10?"0"+e:e},timeSince=function(e){for(var t=((new Date).getTime()-e)/1e3,n=0;;){if(t>=(n<=0?0:gapType[n-1].max)&&t<gapType[n].max)return Math.floor(t/(n<=0?1:gapType[n-1].max))+gapType[n].suffix;if(t>gapType[gapType.length-1].max||t<0||n>=gapType.length){var a=new Date(e);return a.getFullYear()+" 年 "+(a.getMonth()+1)+" 月 "+a.getDate()+" 日"}n+=1}};var dateItem=document.getElementsByTagName("time");for(var i in dateItem)if(""!=dateItem[i].innerHTML){var enTime=new Date(dateItem[i].innerHTML);dateItem[i].title=enTime.getFullYear()+" 年 "+(enTime.getMonth()+1)+" 月 "+enTime.getDate()+" 日",dateItem[i].innerHTML=timeSince(enTime.getTime())}hljs.initHighlightingOnLoad(),nav_btn(),window.onscroll=function(){navtrans()};